 R←Test_API_020(stopFlag batchFlag);⎕TRAP;result;parms;list;success
⍝ Runs "Diff"
 ⎕TRAP←(999 'C' '. ⍝ Deliberate error')(0 'N')
 R←T._Failed


 parms←⎕SE.Cider.CreateOpenParms''
 parms.quietFlag←1
 parms.folder←##.CiderConfig.HOME,'/TestData/CommTools'
 parms.watch←'ns'
 (success list)← ⎕SE.Cider.OpenProject parms
 Assert success

  result←G.DiffBranches #.CommTools
 →T.PassesIf 0<≢result

 result←1 G.Diff #.CommTools

 R←T._OK

∆TidyUp:
 Assert ⎕SE.Cider.CloseProject'#.CommTools'
 #.⎕EX'CommTools'
⍝Done
